"use strict";var currentCountry="UNKNOWN",updateCookieStatus=function(a){request("/auth/cookie-consent","PATCH",{googleAnalytics:a}).then(function(){// OK
try{localStorage.setItem("cookie_prompt_success_v3",currentCountry)}catch(a){}})["catch"](function(){warning("Cookie consent information could not be updated. Please try again.")})},openCookieConsent=function(){// prompt
$("body").append("\n        \n        <div class=\"fixed-bottom\" style=\"z-index:99999;display:none;\" id=\"gdpr-cookie-notice\">\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"card\">\n                        <div class=\"card-body\" style=\"padding-bottom:1rem;padding-top:1rem;\">\n                            <div class=\"row\">\n                                <div class=\"col-12 col-lg-8\">\n                                    <h3 style=\"font-size:1.15rem;margin-bottom:0;\">GDPR Cookie Notice</h3>\n                                    <p>BlocksHub uses Google Analytics, which stores cookies on your computer. BlocksHub also uses technical cookies that cannot be declined. Are you OK with third party analytical cookies? <span style=\"cursor:pointer;font-size:0.75rem;\" data-toggle=\"modal\" data-target=\"#cookieConsentInfoModal\">[info]</span><br><br> You can always change your prefereces by scrolling down to the bottom of any page, and clicking \"Manage Cookie Consent\".</p>\n                                </div>\n                                <div class=\"col-12 col-lg-4\">\n                                    <button type=\"button\" class=\"btn btn-small btn-dark cookie-button\" id=\"confirmOkWithCookies\" style=\"width:100%;margin:1rem auto 0 auto;display: block;\">Yes</button>\n                                    <button type=\"button\" class=\"btn btn-small btn-outline-dark cookie-button\" id=\"confirmNotOkWithCookies\" style=\"width:100%;margin:1rem auto 0 auto;display: block;\">No</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        "),$("body").append("\n        <div class=\"modal fade\" id=\"cookieConsentInfoModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"cookieConsentInfoModalTitle\" aria-hidden=\"true\">\n          <div class=\"modal-dialog\" role=\"document\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"cookieConsentInfoModalTitle\">Cookie Consent Information</h5>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div class=\"modal-body\">\n                <h5>Google Analytics</h5>\n                <p>In order to learn about our userbase for marketing and feature research purposes, we use Google Analytics. Google Analytics stores Cookies on your device in order to track you across our website. You can decline Google Analytics cookies by pressing the \"No\" button inside the cookie disclaimer.\n                <br>\n                <br>\n                You can learn more info about Google's terms of service <a href=\"https://marketingplatform.google.com/about/analytics/terms/us/\" rel=\"nofollow noopener\">here</a>.\n                </p>\n                <br>\n                <h5>Cloudflare Cookies</h5>\n                <p>A third party service used by Blockshub, Cloudflare, uses a mandatory \"__cfduid\" cookie that cannot be declined. You can learn more about the cookie <a href=\"https://support.cloudflare.com/hc/en-us/articles/200170156-Understanding-the-Cloudflare-Cookies\" rel=\"nofollow noopener\">here</a>, and view Cloudflare's privacy policy <a href=\"https://www.cloudflare.com/privacypolicy/\">here</a>.</p>\n                <br>\n                <h5>Session Cookies</h5>\n                <p>BlocksHub uses cookies for managing users who logged in, managing cookie consent, for and other non-tracking purposes. Due to the necessity of these cookies, they cannot be declined.</p>\n              </div>\n              <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n              </div>\n            </div>\n          </div>\n        </div>"),$("div#gdpr-cookie-notice").fadeIn(550)};/**
 * Update session cookie status
 * @param {boolean} ga Google Analytics enabled? true/false
 */$(document).on("click",".cookie-button",function(){$("div#gdpr-cookie-notice").fadeOut(550),setTimeout(function(){$("div#gdpr-cookie-notice").remove()},551)}),$(document).on("click","#confirmOkWithCookies",function(a){a.preventDefault(),updateCookieStatus(!0)}),$(document).on("click","#confirmNotOkWithCookies",function(a){a.preventDefault(),updateCookieStatus(!1)}),$(document).on("click","#openCookieInfo",function(a){a.preventDefault()});var cookieConsent=function(){// default to false (for example, if user has cookies/localstorage disabled)
var a="false";// try to remove the old (unused) cookie consent
try{localStorage.removeItem("cookie_prompt_success"),localStorage.removeItem("cookie_prompt_success_v2")}catch(a){// ignore for now
}try{a=localStorage.getItem("cookie_prompt_success_v3")}catch(a){console.error("[warning] error getting cookie prompt status",a)}// Open the consent if it is not false
a!==currentCountry&&openCookieConsent()};request("/auth/current-country","GET").then(function(a){currentCountry=a.country,a.cookiePromptRequired?cookieConsent():updateCookieStatus(!0)}),$(document).on("click","#open-cookie-consent",function(a){a.preventDefault(),openCookieConsent()});